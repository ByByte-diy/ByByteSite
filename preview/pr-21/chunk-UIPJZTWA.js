import{a as V,b as ne}from"./chunk-K727H6XU.js";import{a as D}from"./chunk-6QJW37AI.js";import{a as ee,b as te}from"./chunk-F7UC2G5A.js";import{$ as u,Fa as P,I as K,Ia as E,La as $,M as o,N as Q,Q as b,T as U,U as f,V as v,X as S,Y as y,Z as L,_ as A,_a as X,aa as m,ba as k,ca as l,da as r,ea as H,eb as oe,gb as Z,ha as B,hb as M,ia as I,ib as T,ja as W,ka as x,la as p,sa as O,t as _,ta as s,ua as c,va as h,wa as z,x as w,y as F,ya as a,za as d}from"./chunk-IMSOYEQO.js";import"./chunk-ASRB7XND.js";P();$();P();oe();$();P();$();P();function se(t,n){if(t&1){let e=B();l(0,"button",6),x("click",function(){let g=w(e).$implicit,C=p();return F(C.onPlatformChange(g))}),s(1),a(2,"translate"),r()}if(t&2){let e=n.$implicit,i=p();O("active",i.selectedPlatform===e),o(),h(" ",d(2,3,"lessons.platform."+e)," ")}}function re(t,n){if(t&1){let e=B();l(0,"button",6),x("click",function(){let g=w(e).$implicit,C=p();return F(C.onLevelChange(g))}),s(1),a(2,"translate"),r()}if(t&2){let e=n.$implicit,i=p();O("active",i.selectedLevel===e),o(),h(" ",d(2,3,"lessons.level."+e)," ")}}function le(t,n){if(t&1){let e=B();l(0,"span",12),x("click",function(){let g=w(e).$implicit,C=p(2);return F(C.onTagChange(g===C.selectedTag?null:g))}),s(1),r()}if(t&2){let e=n.$implicit,i=p(2);O("active",i.selectedTag===e),o(),h(" ",e," ")}}function ae(t,n){if(t&1&&(l(0,"div",4)(1,"label"),s(2),a(3,"translate"),r(),l(4,"div",10),y(5,le,2,3,"span",11,S),r()()),t&2){let e=p();o(2),c(d(3,1,"lessons.filter.tags")),o(3),L(e.tags)}}var j=class t{platforms=[];levels=[];tags=[];selectedPlatform=null;selectedLevel=null;selectedTag=null;searchTerm="";filterChange=new Q;onPlatformChange(n){this.selectedPlatform=n,this.emitFilterChange()}onLevelChange(n){this.selectedLevel=n,this.emitFilterChange()}onTagChange(n){this.selectedTag=n,this.emitFilterChange()}onSearchChange(n){this.searchTerm=n.target.value,this.emitFilterChange()}resetFilters(){this.selectedPlatform=null,this.selectedLevel=null,this.selectedTag=null,this.searchTerm="",this.emitFilterChange()}emitFilterChange(){this.filterChange.emit({platform:this.selectedPlatform||void 0,level:this.selectedLevel||void 0,tag:this.selectedTag||void 0,searchTerm:this.searchTerm||void 0})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-lesson-filter"]],inputs:{platforms:"platforms",levels:"levels",tags:"tags",selectedPlatform:"selectedPlatform",selectedLevel:"selectedLevel",selectedTag:"selectedTag",searchTerm:"searchTerm"},outputs:{filterChange:"filterChange"},decls:30,vars:24,consts:[[1,"filter-container"],[1,"filter-search"],["type","text",3,"input","placeholder","value"],[1,"filter-options"],[1,"filter-group"],[1,"filter-buttons"],[1,"filter-button",3,"click"],[1,"filter-button",3,"active"],[1,"filter-actions"],[1,"reset-button",3,"click"],[1,"filter-tags"],[1,"filter-tag",3,"active"],[1,"filter-tag",3,"click"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"input",2),a(3,"translate"),x("input",function(C){return i.onSearchChange(C)}),r()(),l(4,"div",3)(5,"div",4)(6,"label"),s(7),a(8,"translate"),r(),l(9,"div",5)(10,"button",6),x("click",function(){return i.onPlatformChange(null)}),s(11),a(12,"translate"),r(),y(13,se,3,5,"button",7,S),r()(),l(15,"div",4)(16,"label"),s(17),a(18,"translate"),r(),l(19,"div",5)(20,"button",6),x("click",function(){return i.onLevelChange(null)}),s(21),a(22,"translate"),r(),y(23,re,3,5,"button",7,S),r()(),f(25,ae,7,3,"div",4),r(),l(26,"div",8)(27,"button",9),x("click",function(){return i.resetFilters()}),s(28),a(29,"translate"),r()()()),e&2&&(o(2),I("placeholder",d(3,12,"lessons.filter.search"))("value",i.searchTerm),o(5),c(d(8,14,"lessons.filter.platform")),o(3),O("active",!i.selectedPlatform),o(),h(" ",d(12,16,"lessons.filter.all")," "),o(2),L(i.platforms),o(4),c(d(18,18,"lessons.filter.level")),o(3),O("active",!i.selectedLevel),o(),h(" ",d(22,20,"lessons.filter.all")," "),o(2),L(i.levels),o(2),v(i.tags.length?25:-1),o(3),h(" ",d(29,22,"lessons.filter.reset")," "))},dependencies:[E,T,M],styles:[".filter-container[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:var(--color-surface);border-radius:12px;box-shadow:0 2px 8px #0000001a}.filter-search[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filter-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid var(--color-border);border-radius:8px;font-size:var(--text-base);color:var(--text-primary);background:var(--color-bg)}.filter-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(var(--color-primary-rgb),.2)}.filter-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:var(--text-sm);font-weight:var(--font-weight-medium);color:var(--text-secondary);margin-bottom:.5rem}.filter-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.filter-button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--color-border);border-radius:6px;background:var(--color-bg);font-size:var(--text-sm);color:var(--text-primary);cursor:pointer;transition:all .2s ease}.filter-button[_ngcontent-%COMP%]:hover{background:var(--color-bg-hover)}.filter-button.active[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.filter-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.filter-tag[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:16px;background:var(--color-bg);font-size:var(--text-xs);color:var(--text-secondary);cursor:pointer;transition:all .2s ease;border:1px solid var(--color-border)}.filter-tag[_ngcontent-%COMP%]:hover{background:var(--color-bg-hover)}.filter-tag.active[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.filter-actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:flex-end}.reset-button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;background:var(--color-bg);font-size:var(--text-sm);color:var(--text-secondary);cursor:pointer;transition:all .2s ease}.reset-button[_ngcontent-%COMP%]:hover{background:var(--color-bg-hover);color:var(--text-primary)}@media (max-width: 768px){.filter-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}"]})};P();$();P();function de(t,n){if(t&1&&(l(0,"p",10),s(1),r()),t&2){let e=p();o(),c(e.lesson.description)}}function ce(t,n){if(t&1&&(l(0,"span",14),s(1),r()),t&2){let e=n.$implicit;o(),c(e)}}function pe(t,n){if(t&1&&(l(0,"span",15),s(1),r()),t&2){let e=p(2);o(),h("+",e.lesson.tags.length-3)}}function me(t,n){if(t&1&&(l(0,"div",12),y(1,ce,2,1,"span",14,S),f(3,pe,2,1,"span",15),r()),t&2){let e=p();o(),L(e.lesson.tags.slice(0,3)),o(2),v(e.lesson.tags.length>3?3:-1)}}function ge(t,n){if(t&1&&(l(0,"div",13)(1,"span",16),s(2),r()()),t&2){let e=p();o(2),h("v",e.lesson.version)}}var N=class t{lesson;routerService=_(D);iconsService=_(ne);navigateToLesson(){let n=`/learn/${this.lesson.platforms[0]}/${this.lesson.level}/${this.lesson.slug}`;this.routerService.navigateTo(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-lesson-card"]],inputs:{lesson:"lesson"},decls:21,vars:18,consts:[[1,"lesson-card",3,"click"],[1,"lesson-card__header"],[1,"lesson-platform"],["loading","lazy",1,"platform-icon",3,"src"],[1,"platform-name"],[1,"lesson-level"],["loading","lazy",1,"level-icon",3,"src"],[1,"level-name"],[1,"lesson-card__content"],[1,"lesson-title"],[1,"lesson-description"],[1,"lesson-card__footer"],[1,"lesson-tags"],[1,"lesson-version"],[1,"lesson-tag"],[1,"lesson-tag","more"],[1,"version-label"]],template:function(e,i){e&1&&(l(0,"div",0),x("click",function(){return i.navigateToLesson()}),l(1,"div",1)(2,"div",2),H(3,"img",3),a(4,"translate"),l(5,"span",4),s(6),a(7,"translate"),r()(),l(8,"div",5),H(9,"img",6),a(10,"translate"),l(11,"span",7),s(12),a(13,"translate"),r()()(),l(14,"div",8)(15,"h3",9),s(16),r(),f(17,de,2,1,"p",10),r(),l(18,"div",11),f(19,me,4,1,"div",12),f(20,ge,3,1,"div",13),r()()),e&2&&(o(3),I("src",i.iconsService.getPlatformIcon(i.lesson.platforms[0]),K),U("alt",d(4,10,"lessons.platform."+i.lesson.platforms[0])),o(3),c(d(7,12,"lessons.platform."+i.lesson.platforms[0])),o(3),I("src",i.iconsService.getLevelIcon(i.lesson.level),K),U("alt",d(10,14,"lessons.level."+i.lesson.level)),o(3),c(d(13,16,"lessons.level."+i.lesson.level)),o(4),c(i.lesson.title),o(),v(i.lesson.description?17:-1),o(2),v(i.lesson.tags.length?19:-1),o(),v(i.lesson.version?20:-1))},dependencies:[E,T,M],styles:[".lesson-card[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;display:flex;flex-direction:column;height:100%}.lesson-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.lesson-card__header[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--color-border)}.lesson-platform[_ngcontent-%COMP%], .lesson-level[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:var(--text-xs);color:var(--text-secondary)}.platform-icon[_ngcontent-%COMP%], .level-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;object-fit:contain}.lesson-card__content[_ngcontent-%COMP%]{padding:1rem;flex:1}.lesson-title[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:var(--text-xl);font-weight:var(--font-weight-bold);margin-bottom:.5rem;color:var(--text-primary);line-height:1.3}.lesson-description[_ngcontent-%COMP%]{font-size:var(--text-sm);color:var(--text-secondary);line-height:1.5;margin:0;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.lesson-card__footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid var(--color-border);display:flex;justify-content:space-between;align-items:center}.lesson-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.lesson-tag[_ngcontent-%COMP%]{padding:.2rem .5rem;background:var(--color-bg);border-radius:12px;font-size:var(--text-xs);color:var(--text-secondary)}.lesson-tag.more[_ngcontent-%COMP%]{background:var(--color-bg-hover)}.lesson-version[_ngcontent-%COMP%]{font-size:var(--text-xs);color:var(--text-secondary);background:var(--color-bg);padding:.2rem .5rem;border-radius:12px}"]})};P();var J=()=>[],fe=(t,n)=>n.slug;function ve(t,n){if(t&1&&(u(0,"p"),s(1),a(2,"translate"),m()),t&2){let e=p();o(),c(d(2,1,"lessons.platform."+e.platform))}}function _e(t,n){if(t&1&&(u(0,"p"),s(1),a(2,"translate"),m()),t&2){let e=p();o(),c(d(2,1,"lessons.level."+e.level))}}function ue(t,n){if(t&1&&k(0,"app-lesson-card",7),t&2){let e=n.$implicit;A("lesson",e)}}function Ce(t,n){if(t&1&&y(0,ue,1,1,"app-lesson-card",7,fe),t&2){let e=p(2);L(e.filteredLessons)}}function xe(t,n){t&1&&(u(0,"div",6)(1,"p"),s(2),a(3,"translate"),m()()),t&2&&(o(2),c(d(3,1,"lessons.noLessons")))}function he(t,n){if(t&1&&f(0,Ce,2,0)(1,xe,4,3,"div",6),t&2){let e=p();v(e.filteredLessons.length?0:1)}}function be(t,n){t&1&&(u(0,"div",5)(1,"p"),s(2),a(3,"translate"),m()()),t&2&&(o(2),c(d(3,1,"lessons.loading")))}var R=class t{lessonsService=_(V);_route=_(X);_routerService=_(D);_translate=_(Z);platform=null;level=null;tag=null;searchTerm="";filteredLessons=[];ngOnInit(){this.lessonsService.lessonsIndex()||this.lessonsService.loadLessonsIndex().subscribe(),this._route.paramMap.subscribe(n=>{this.platform=n.get("platform"),this.level=n.get("level"),this._applyFilters()}),this.lessonsService.lessonsIndex.update(n=>(n&&this._applyFilters(),n))}_applyFilters(){let n=this._translate.getCurrentLang()||this._translate.getFallbackLang()||"";this.filteredLessons=this.lessonsService.filterLessons({platform:this.platform||void 0,level:this.level||void 0,lang:n,tag:this.tag||void 0,searchTerm:this.searchTerm||void 0})}onFilterChange(n){if(this.platform=n.platform||null,this.level=n.level||null,this.tag=n.tag||null,this.searchTerm=n.searchTerm||"",n.platform!==void 0||n.level!==void 0){let e="/learn";n.platform&&(e+=`/${n.platform}`,n.level&&(e+=`/${n.level}`)),this._routerService.navigateTo(e)}else this._applyFilters()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-lessons-list"]],decls:12,vars:16,consts:[[1,"lessons-container"],[3,"filterChange","platforms","levels","tags","selectedPlatform","selectedLevel","selectedTag","searchTerm"],[1,"lessons-list"],[1,"lessons-header"],[1,"lessons-grid"],[1,"lessons-loading"],[1,"lessons-empty"],[3,"lesson"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"app-lesson-filter",1),W("filterChange",function(C){return i.onFilterChange(C)}),m(),u(2,"div",2)(3,"div",3)(4,"h2"),s(5),a(6,"translate"),m(),f(7,ve,3,3,"p"),f(8,_e,3,3,"p"),m(),u(9,"div",4),f(10,he,2,1)(11,be,4,3,"div",5),m()()()),e&2&&(o(),A("platforms",i.lessonsService.lessonsIndex()?i.lessonsService.lessonsIndex().platforms:z(13,J))("levels",i.lessonsService.lessonsIndex()?i.lessonsService.lessonsIndex().levels:z(14,J))("tags",i.lessonsService.lessonsIndex()?i.lessonsService.lessonsIndex().tags:z(15,J))("selectedPlatform",i.platform)("selectedLevel",i.level)("selectedTag",i.tag)("searchTerm",i.searchTerm),o(4),c(d(6,11,"lessons.title")),o(2),v(i.platform?7:-1),o(),v(i.level?8:-1),o(2),v(i.lessonsService.isLoading()?11:10))},dependencies:[E,T,j,N,M],styles:[".lessons-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}.lessons-header[_ngcontent-%COMP%]{margin-bottom:2rem}.lessons-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:var(--text-3xl);font-weight:var(--font-weight-bold);margin-bottom:.5rem;color:var(--text-primary)}.lessons-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--text-lg);color:var(--text-secondary)}.lessons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.lessons-loading[_ngcontent-%COMP%], .lessons-empty[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px;width:100%}.lessons-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .lessons-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--text-lg);color:var(--text-secondary)}@media (max-width: 768px){.lessons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};P();var ie=class t{_lessonsService=_(V);_seoService=_(ee);ngOnInit(){this._lessonsService.loadLessonsIndex().subscribe(),this._seoService.updateSeoFromConfig({titleKey:"seo.learn.title",descriptionKey:"seo.learn.description",keywordsKey:"seo.learn.keywords",type:"website"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-lessons-page"]],decls:9,vars:6,consts:[[1,"lessons-page"],[1,"lessons-page__header"],[1,"page-title"],[1,"page-description"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"h1",2),s(3),a(4,"translate"),m(),u(5,"p",3),s(6),a(7,"translate"),m()(),k(8,"app-lessons-list"),m()),e&2&&(o(3),c(d(4,2,"lessons.pageTitle")),o(3),c(d(7,4,"lessons.pageDescription")))},dependencies:[E,T,R,te,M],styles:[".lessons-page[_ngcontent-%COMP%]{padding:2rem 1rem}.lessons-page__header[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 2rem;text-align:center}.page-title[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:var(--text-5xl);font-weight:var(--font-weight-bold);margin-bottom:1rem;color:var(--text-primary)}.page-description[_ngcontent-%COMP%]{font-size:var(--text-xl);color:var(--text-secondary);max-width:800px;margin:0 auto}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:var(--text-4xl)}.page-description[_ngcontent-%COMP%]{font-size:var(--text-lg)}}"]})};export{ie as LessonsPageComponent};
