{
  "version": 3,
  "sources": ["src/app/modules/language/pipes/localized-route.pipe.ts", "src/app/modules/language/language.module.ts", "src/app/modules/language/components/language-wrapper/language-wrapper.ts", "src/app/modules/language/components/lang-switcher/lang-switcher.ts", "src/app/shared/ui/dropdown-button/dropdown-button.ts"],
  "sourcesContent": ["import { Pipe, PipeTransform, inject } from '@angular/core';\nimport { RouterService } from '../services/router.service';\n\n@Pipe({\n  name: 'localizedRoute',\n  standalone: true,\n  pure: false,\n})\nexport class LocalizedRoutePipe implements PipeTransform {\n  private readonly routerService = inject(RouterService);\n\n  transform(path: string | null | undefined): string {\n    if (!path) path = '/';\n    return this.routerService.getLocalizedRoute(path);\n  }\n}\n", "import { NgModule } from '@angular/core';\nimport { LanguageWrapperComponent } from './components/language-wrapper/language-wrapper';\nimport { LangSwitcher } from './components/lang-switcher/lang-switcher';\nimport { LocalizedRoutePipe } from './pipes/localized-route.pipe';\n\n@NgModule({\n  imports: [LanguageWrapperComponent, LangSwitcher, LocalizedRoutePipe],\n  exports: [LangSwitcher, LocalizedRoutePipe],\n})\nexport class LanguageModule {}\n", "import { Component, OnInit, inject } from '@angular/core';\nimport { ActivatedRoute, Router, RouterOutlet } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { environment } from '../../../../../environments/environment.js';\n\n@Component({\n  selector: 'app-language-wrapper',\n  standalone: true,\n  imports: [RouterOutlet],\n  template: '<router-outlet></router-outlet>',\n  styles: '',\n})\nexport class LanguageWrapperComponent implements OnInit {\n  private readonly route = inject(ActivatedRoute);\n  private readonly router = inject(Router);\n  private readonly translate = inject(TranslateService);\n\n  ngOnInit(): void {\n    const lang = this.route.snapshot.paramMap.get('lang');\n\n    if (lang && environment.supportedLangs.includes(lang)) {\n      this.translate.use(lang);\n      if (typeof localStorage !== 'undefined') {\n        localStorage.setItem('app-lang', lang);\n      }\n    } else {\n      const currentPath = this.router.url.replace(/^\\/[a-z]{2}/, '');\n      this.router.navigate([`/${environment.defaultLang}${currentPath}`]);\n    }\n  }\n}\n", "import { CommonModule } from '@angular/common';\nimport { Component, HostListener, inject, signal } from '@angular/core';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { environment } from '../../../../../environments/environment.js';\nimport { RouterService } from '../../services/router.service.js';\nimport { DropdownButtonComponent } from '../../../../shared/ui/dropdown-button/dropdown-button.js';\n\n@Component({\n  selector: 'app-lang-switcher',\n  imports: [CommonModule, TranslateModule, DropdownButtonComponent],\n  template: `\n    <app-dropdown-button ariaLabel=\"Language\">\n      <span\n        dropdownTrigger\n        class=\"icon-mask\"\n        [style.--icon]=\"'url(icons/globe.svg)'\"\n        aria-hidden=\"true\"\n      ></span>\n      <ng-container dropdownMenu>\n        @for (o of options; track o.code) {\n          <li role=\"option\" [attr.aria-selected]=\"current() === o.code\">\n            <button type=\"button\" (click)=\"choose(o.code)\">\n              <span class=\"dropdown__flag\">{{ o.flag }}</span\n              ><span class=\"dropdown__label\">{{ o.label }}</span>\n            </button>\n          </li>\n        }\n      </ng-container>\n    </app-dropdown-button>\n  `,\n})\nexport class LangSwitcher {\n  private readonly translate = inject(TranslateService);\n  private readonly routerService = inject(RouterService);\n  protected langs = signal(this.translate.getLangs());\n  protected current = signal(this.translate.getCurrentLang() || environment.defaultLang);\n  protected open = signal(false);\n  protected readonly options = [\n    { code: 'en', label: 'English', flag: 'ðŸ‡ºðŸ‡¸' },\n    { code: 'uk', label: 'Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°', flag: 'ðŸ‡ºðŸ‡¦' },\n    { code: 'ru', label: 'Ð ÑƒÑÑÐºÐ¸Ð¹', flag: 'ðŸ‡·ðŸ‡º' },\n  ];\n\n  constructor() {\n    this.current.set(this.translate.getCurrentLang() || environment.defaultLang);\n    this.langs.set(this.translate.getLangs());\n    this.translate.onLangChange.subscribe((e) => this.current.set(e.lang));\n  }\n\n  protected toggle() {\n    this.open.update((v) => !v);\n  }\n  protected close() {\n    this.open.set(false);\n  }\n  protected choose(lang: string) {\n    this.routerService.switchLanguage(lang);\n    this.current.set(lang);\n    this.open.set(false);\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocClick(ev: MouseEvent) {\n    const path = ev.composedPath() as Array<EventTarget>;\n    const isInside = path.some((n: any) => n?.classList?.contains?.('lang'));\n    if (!isInside) this.close();\n  }\n}\n", "import {\n  Component,\n  HostListener,\n  Input,\n  OnDestroy,\n  ViewEncapsulation,\n  signal,\n} from '@angular/core';\n\n@Component({\n  selector: 'app-dropdown-button',\n  standalone: true,\n  template: `\n    <div class=\"dropdown\" (keydown.escape)=\"close()\">\n      <button\n        class=\"dropdown__btn\"\n        type=\"button\"\n        [attr.aria-label]=\"ariaLabel\"\n        aria-haspopup=\"listbox\"\n        [attr.aria-expanded]=\"open()\"\n        (click)=\"toggle()\"\n      >\n        <ng-content select=\"[dropdownTrigger]\"></ng-content>\n      </button>\n      @if (open()) {\n        <ul class=\"dropdown__menu\" role=\"listbox\">\n          <ng-content select=\"[dropdownMenu]\"></ng-content>\n        </ul>\n      }\n    </div>\n  `,\n  styleUrls: ['./dropdown-button.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class DropdownButtonComponent implements OnDestroy {\n  @Input() ariaLabel = 'Menu';\n  protected open = signal(false);\n  private static openedInstance: DropdownButtonComponent | null = null;\n\n  protected toggle() {\n    const willOpen = !this.open();\n    if (willOpen) {\n      if (\n        DropdownButtonComponent.openedInstance &&\n        DropdownButtonComponent.openedInstance !== this\n      ) {\n        DropdownButtonComponent.openedInstance.close();\n      }\n      this.open.set(true);\n      DropdownButtonComponent.openedInstance = this;\n    } else {\n      this.close();\n    }\n  }\n  protected close() {\n    this.open.set(false);\n    if (DropdownButtonComponent.openedInstance === this) {\n      DropdownButtonComponent.openedInstance = null;\n    }\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocClick(ev: MouseEvent) {\n    const path = ev.composedPath?.() as Array<EventTarget>;\n    const isInside = path.some((n: any) => n?.classList?.contains?.('dropdown'));\n    if (!isInside) this.close();\n  }\n\n  @HostListener('document:focusin', ['$event'])\n  onDocFocusIn(ev: FocusEvent) {\n    const path = (ev.composedPath?.() as Array<EventTarget>) || [];\n    const isInside = path.some((n: any) => n?.classList?.contains?.('dropdown'));\n    if (!isInside) this.close();\n  }\n\n  @HostListener('document:keydown.escape')\n  onEsc() {\n    this.close();\n  }\n\n  ngOnDestroy(): void {\n    if (DropdownButtonComponent.openedInstance === this) {\n      DropdownButtonComponent.openedInstance = null;\n    }\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAQM,IAAO,qBAAP,MAAO,oBAAkB;EACZ,gBAAgB,OAAO,aAAa;EAErD,UAAU,MAA+B;AACvC,QAAI,CAAC;AAAM,aAAO;AAClB,WAAO,KAAK,cAAc,kBAAkB,IAAI;EAClD;;qCANW,qBAAkB;EAAA;6FAAlB,qBAAkB,MAAA,MAAA,CAAA;;;sEAAlB,oBAAkB,CAAA;UAL9B;WAAK;MACJ,MAAM;MACN,YAAY;MACZ,MAAM;KACP;;;;;ACPD;;;ACAA;AACA;;AAWM,IAAO,2BAAP,MAAO,0BAAwB;EAClB,QAAQ,OAAO,cAAc;EAC7B,SAAS,OAAO,MAAM;EACtB,YAAY,OAAO,gBAAgB;EAEpD,WAAQ;AACN,UAAM,OAAO,KAAK,MAAM,SAAS,SAAS,IAAI,MAAM;AAEpD,QAAI,QAAQ,YAAY,eAAe,SAAS,IAAI,GAAG;AACrD,WAAK,UAAU,IAAI,IAAI;AACvB,UAAI,OAAO,iBAAiB,aAAa;AACvC,qBAAa,QAAQ,YAAY,IAAI;MACvC;IACF,OAAO;AACL,YAAM,cAAc,KAAK,OAAO,IAAI,QAAQ,eAAe,EAAE;AAC7D,WAAK,OAAO,SAAS,CAAC,IAAI,YAAY,WAAW,GAAG,WAAW,EAAE,CAAC;IACpE;EACF;;qCAjBW,2BAAwB;EAAA;yEAAxB,2BAAwB,WAAA,CAAA,CAAA,sBAAA,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,UAAA,SAAA,kCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAHxB,MAAA,oBAAA,GAAA,eAAA;;oBADD,YAAY,GAAA,eAAA,EAAA,CAAA;;;sEAIX,0BAAwB,CAAA;UAPpC;uBACW,wBAAsB,YACpB,MAAI,SACP,CAAC,YAAY,GAAC,UACb,kCAAiC,CAAA;;;;6EAGhC,0BAAwB,EAAA,WAAA,4BAAA,UAAA,4EAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;ACZrC;AACA;;;ACDA;;;;;;AAyBQ,IAAA,4BAAA,GAAA,MAAA,CAAA;AACE,IAAA,uBAAA,GAAA,CAAA;AACF,IAAA,0BAAA;;;AAOF,IAAO,0BAAP,MAAO,yBAAuB;EACzB,YAAY;EACX,OAAO,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,OAAA,CAAA,IAAA,CAAA,CAAA;EACrB,OAAO,iBAAiD;EAEtD,SAAM;AACd,UAAM,WAAW,CAAC,KAAK,KAAI;AAC3B,QAAI,UAAU;AACZ,UACE,yBAAwB,kBACxB,yBAAwB,mBAAmB,MAC3C;AACA,iCAAwB,eAAe,MAAK;MAC9C;AACA,WAAK,KAAK,IAAI,IAAI;AAClB,+BAAwB,iBAAiB;IAC3C,OAAO;AACL,WAAK,MAAK;IACZ;EACF;EACU,QAAK;AACb,SAAK,KAAK,IAAI,KAAK;AACnB,QAAI,yBAAwB,mBAAmB,MAAM;AACnD,+BAAwB,iBAAiB;IAC3C;EACF;EAGA,WAAW,IAAc;AACvB,UAAM,OAAO,GAAG,eAAc;AAC9B,UAAM,WAAW,KAAK,KAAK,CAAC,MAAW,GAAG,WAAW,WAAW,UAAU,CAAC;AAC3E,QAAI,CAAC;AAAU,WAAK,MAAK;EAC3B;EAGA,aAAa,IAAc;AACzB,UAAM,OAAQ,GAAG,eAAc,KAA6B,CAAA;AAC5D,UAAM,WAAW,KAAK,KAAK,CAAC,MAAW,GAAG,WAAW,WAAW,UAAU,CAAC;AAC3E,QAAI,CAAC;AAAU,WAAK,MAAK;EAC3B;EAGA,QAAK;AACH,SAAK,MAAK;EACZ;EAEA,cAAW;AACT,QAAI,yBAAwB,mBAAmB,MAAM;AACnD,+BAAwB,iBAAiB;IAC3C;EACF;;qCAlDW,0BAAuB;EAAA;yEAAvB,0BAAuB,WAAA,CAAA,CAAA,qBAAA,CAAA,GAAA,cAAA,SAAA,qCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAAvB,MAAA,qBAAA,SAAA,SAAA,iDAAA,QAAA;AAAA,eAAA,IAAA,WAAA,MAAA;MAAkB,GAAA,2BAAA,EAAK,WAAA,SAAA,mDAAA,QAAA;AAAA,eAAvB,IAAA,aAAA,MAAA;MAAoB,GAAA,2BAAA,EAAG,kBAAA,SAAA,4DAAA;AAAA,eAAvB,IAAA,MAAA;MAAO,GAAA,2BAAA;;;;;AArBhB,MAAA,4BAAA,GAAA,OAAA,CAAA;AAAsB,MAAA,wBAAA,kBAAA,SAAA,iEAAA;AAAA,eAAkB,IAAA,MAAA;MAAO,CAAA;AAC7C,MAAA,4BAAA,GAAA,UAAA,CAAA;AAME,MAAA,wBAAA,SAAA,SAAA,2DAAA;AAAA,eAAS,IAAA,OAAA;MAAQ,CAAA;AAEjB,MAAA,uBAAA,CAAA;AACF,MAAA,0BAAA;AACA,MAAA,8BAAA,GAAA,gDAAA,GAAA,GAAA,MAAA,CAAA;AAKF,MAAA,0BAAA;;;AAZI,MAAA,oBAAA;;AAOF,MAAA,oBAAA,CAAA;AAAA,MAAA,wBAAA,IAAA,KAAA,IAAA,IAAA,EAAA;;;;;sEAUO,yBAAuB,CAAA;UAzBnC;uBACW,uBAAqB,YACnB,MAAI,UACN;;;;;;;;;;;;;;;;;;KAkBT,eAEc,kBAAkB,MAAI,QAAA,CAAA,upDAAA,EAAA,CAAA;;UAGpC;;UA0BA;WAAa,kBAAkB,CAAC,QAAQ,CAAC;;UAOzC;WAAa,oBAAoB,CAAC,QAAQ,CAAC;;UAO3C;WAAa,yBAAyB;;;;6EAzC5B,yBAAuB,EAAA,WAAA,2BAAA,UAAA,wDAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;;;;ADd1B,IAAA,yBAAA,GAAA,MAAA,CAAA,EAA8D,GAAA,UAAA,CAAA;AACtC,IAAA,qBAAA,SAAA,SAAA,sDAAA;AAAA,YAAA,OAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,OAAA,KAAA,IAAA,CAAc;IAAA,CAAA;AAC3C,IAAA,yBAAA,GAAA,QAAA,CAAA;AAA6B,IAAA,iBAAA,CAAA;AAAY,IAAA,uBAAA;AACxC,IAAA,yBAAA,GAAA,QAAA,CAAA;AAA8B,IAAA,iBAAA,CAAA;AAAa,IAAA,uBAAA,EAAO,EAC5C;;;;;;AAFsB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,KAAA,IAAA;AACE,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,KAAA,KAAA;;;AAQvC,IAAO,eAAP,MAAO,cAAY;EACN,YAAY,OAAO,gBAAgB;EACnC,gBAAgB,OAAO,aAAa;EAC3C,QAAQ,OAAO,KAAK,UAAU,SAAQ,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,QAAA,CAAA,IAAA,CAAA,CAAA;EACxC,UAAU,OAAO,KAAK,UAAU,eAAc,KAAM,YAAY,aAAW,GAAA,YAAA,CAAA,EAAA,WAAA,UAAA,CAAA,IAAA,CAAA,CAAA;EAC3E,OAAO,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,OAAA,CAAA,IAAA,CAAA,CAAA;EACV,UAAU;IAC3B,EAAE,MAAM,MAAM,OAAO,WAAW,MAAM,qBAAM;IAC5C,EAAE,MAAM,MAAM,OAAO,gEAAc,MAAM,qBAAM;IAC/C,EAAE,MAAM,MAAM,OAAO,8CAAW,MAAM,qBAAM;;EAG9C,cAAA;AACE,SAAK,QAAQ,IAAI,KAAK,UAAU,eAAc,KAAM,YAAY,WAAW;AAC3E,SAAK,MAAM,IAAI,KAAK,UAAU,SAAQ,CAAE;AACxC,SAAK,UAAU,aAAa,UAAU,CAAC,MAAM,KAAK,QAAQ,IAAI,EAAE,IAAI,CAAC;EACvE;EAEU,SAAM;AACd,SAAK,KAAK,OAAO,CAAC,MAAM,CAAC,CAAC;EAC5B;EACU,QAAK;AACb,SAAK,KAAK,IAAI,KAAK;EACrB;EACU,OAAO,MAAY;AAC3B,SAAK,cAAc,eAAe,IAAI;AACtC,SAAK,QAAQ,IAAI,IAAI;AACrB,SAAK,KAAK,IAAI,KAAK;EACrB;EAGA,WAAW,IAAc;AACvB,UAAM,OAAO,GAAG,aAAY;AAC5B,UAAM,WAAW,KAAK,KAAK,CAAC,MAAW,GAAG,WAAW,WAAW,MAAM,CAAC;AACvE,QAAI,CAAC;AAAU,WAAK,MAAK;EAC3B;;qCAnCW,eAAY;EAAA;yEAAZ,eAAY,WAAA,CAAA,CAAA,mBAAA,CAAA,GAAA,cAAA,SAAA,0BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAAZ,MAAA,qBAAA,SAAA,SAAA,sCAAA,QAAA;AAAA,eAAA,IAAA,WAAA,MAAA;MACV,GAAA,2BAAA;;;;AArBC,MAAA,yBAAA,GAAA,uBAAA,CAAA;AACE,MAAA,oBAAA,GAAA,QAAA,CAAA;AAMA,MAAA,kCAAA,GAAA,CAAA;AACE,MAAA,2BAAA,GAAA,6BAAA,GAAA,GAAA,MAAA,GAAA,UAAA;;AASJ,MAAA,uBAAA;;;AAbI,MAAA,oBAAA;AAAA,MAAA,sBAAA,UAAA,sBAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,IAAA,OAAA;;oBAVI,cAAc,iBAAiB,uBAAuB,GAAA,eAAA,EAAA,CAAA;;;sEAsBrD,cAAY,CAAA;UAxBxB;WAAU;MACT,UAAU;MACV,SAAS,CAAC,cAAc,iBAAiB,uBAAuB;MAChE,UAAU;;;;;;;;;;;;;;;;;;;;KAoBX;;UA+BE;WAAa,kBAAkB,CAAC,QAAQ,CAAC;;;;6EA9B/B,cAAY,EAAA,WAAA,gBAAA,UAAA,sEAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;AFtBnB,IAAO,iBAAP,MAAO,gBAAc;;qCAAd,iBAAc;EAAA;wEAAd,gBAAc,CAAA;4EAHW,YAAY,EAAA,CAAA;;;sEAGrC,gBAAc,CAAA;UAJ1B;WAAS;MACR,SAAS,CAAC,0BAA0B,cAAc,kBAAkB;MACpE,SAAS,CAAC,cAAc,kBAAkB;KAC3C;;;",
  "names": []
}
