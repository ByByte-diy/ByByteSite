import{Fa as l,ab as u,eb as d,gb as f,jb as s,kb as c,lb as h,p as g,t as o}from"./chunk-IMSOYEQO.js";l();d();l();var m=class i{router=o(u);translate=o(f);getCurrentLang(){let t=this.getCurrentUrl(),r=c(t);return t.startsWith(`/${r}/`)||t===`/${r}`?r:this.translate.getCurrentLang()||this.translate.getFallbackLang()||s.defaultLang}getLocalizedRoute(t,r){let n=r||this.getCurrentLang(),a=t.startsWith("/")?t.slice(1):t;return a?`${n}/${a}`:`${n}`}navigateTo(t,r){let n=this.getLocalizedRoute(t,r);this.router.navigate([n])}switchLanguage(t){if(!h(t)){console.error(`Invalid language: ${t}`);return}let r=this.router.url,n=c(r),a=r.split("/").filter(Boolean),e="";a.length>0&&a[0]===n?e="/"+a.slice(1).join("/"):e=r||"/",e==="/"||e===""?e="":e.startsWith("/")||(e="/"+e),this.translate.use(t);try{localStorage.setItem("app-lang",t)}catch{}let L=this.getLocalizedRoute(e,t);this.router.navigate([L])}getCurrentUrl(){return this.router.url||""||`/${s.defaultLang}`}static \u0275fac=function(r){return new(r||i)};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})};export{m as a};
