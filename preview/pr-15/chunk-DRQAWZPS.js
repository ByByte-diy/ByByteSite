import{B as d,Fa as L,G as b,Ja as I,Ka as j,Ma as x,Qa as C,b as l,c as _,g as f,ib as y,m as v,n as P,p as c,t as p}from"./chunk-D62UBXSY.js";import{a as u,b as g,c as h}from"./chunk-ASRB7XND.js";C();L();j();P();var M={lessons:[{title:"Blinking LED",slug:"blink",lang:"en",platforms:["arduino"],level:"beginner",tags:["led","digital outputs"],published:!0,version:"1.0.0",description:"Classic example with a blinking LED for Arduino.",duration:null,difficulty:null},{title:"\u041C\u0438\u0433\u0430\u044E\u0447\u0438\u0439 \u0441\u0432\u0456\u0442\u043B\u043E\u0434\u0456\u043E\u0434",slug:"blink",lang:"uk",platforms:["arduino"],level:"beginner",tags:["\u0441\u0432\u0456\u0442\u043B\u043E\u0434\u0456\u043E\u0434","\u0446\u0438\u0444\u0440\u043E\u0432\u0456 \u0432\u0438\u0445\u043E\u0434\u0438"],published:!0,version:"1.0.0",description:"\u041A\u043B\u0430\u0441\u0438\u0447\u043D\u0438\u0439 \u043F\u0440\u0438\u043A\u043B\u0430\u0434 \u0437 \u043C\u0438\u0433\u0430\u044E\u0447\u0438\u043C \u0441\u0432\u0456\u0442\u043B\u043E\u0434\u0456\u043E\u0434\u043E\u043C \u0434\u043B\u044F Arduino.",duration:null,difficulty:null}],platforms:["arduino"],levels:["beginner"],tags:["digital outputs","led","\u0441\u0432\u0456\u0442\u043B\u043E\u0434\u0456\u043E\u0434","\u0446\u0438\u0444\u0440\u043E\u0432\u0456 \u0432\u0438\u0445\u043E\u0434\u0438"],languages:["en","uk"],generatedAt:"2025-11-11T14:24:07.045Z",totalLessons:2};L();var w=class i{_http=p(x);platformId=p(b);_lessonsIndex=d(null);_currentLesson=d(null);_isLoading=d(!1);_error=d(null);get lessonsIndex(){return this._lessonsIndex}get currentLesson(){return this._currentLesson}get isLoading(){return this._isLoading}get error(){return this._error}loadLessonsIndex(){return this._isLoading.set(!0),this._error.set(null),l(M).pipe(v(e=>{this._lessonsIndex.set(e),this._isLoading.set(!1)}),f(e=>(this._error.set("Failed to load lessons index"),this._isLoading.set(!1),console.error("Error loading lessons index:",e),l({lessons:[],platforms:[],levels:[],tags:[],languages:[]}))))}loadLesson(e,s,r){this._isLoading.set(!0),this._error.set(null);let t=this._findLessonMeta(e,s,r);if(!t)return this._error.set(`Lesson not found: ${e}`),this._isLoading.set(!1),l(null);let n=this._buildLessonPath(t);if(!I(this.platformId))try{let o=h("fs"),k=h("path").join(process.cwd(),"src/assets/content",s,r,t.level,`${e}.md`),D=o.readFileSync(k,"utf8"),m=g(u({},t),{content:D,contentPath:n});return this._currentLesson.set(m),this._isLoading.set(!1),l(m)}catch(o){console.error("Error reading lesson file:",o);let a=g(u({},t),{content:"",contentPath:n});return this._currentLesson.set(a),this._isLoading.set(!1),l(a)}return this._http.get(n,{responseType:"text"}).pipe(_(o=>{let a=g(u({},t),{content:o,contentPath:n});return this._currentLesson.set(a),this._isLoading.set(!1),a}),f(o=>(this._error.set(`Failed to load lesson: ${e}`),this._isLoading.set(!1),console.error(`Error loading lesson ${e}:`,o),l(null))))}filterLessons(e){let s=this._lessonsIndex();return s?s.lessons.filter(r=>{if(e.platform&&!r.platforms.includes(e.platform)||e.level&&r.level!==e.level||e.lang&&r.lang!==e.lang||e.tag&&!r.tags.includes(e.tag))return!1;if(e.searchTerm){let t=e.searchTerm.toLowerCase();return r.title.toLowerCase().includes(t)||r.description?.toLowerCase().includes(t)||r.tags.some(n=>n.toLowerCase().includes(t))}return!0}):[]}_findLessonMeta(e,s,r){let t=this._lessonsIndex();return t&&t.lessons.find(n=>n.slug===e&&n.lang===s&&n.platforms.includes(r))||null}_buildLessonPath(e){return`${y.contentBasePath}/${e.lang}/${e.platforms[0]}/${e.level}/${e.slug}.md`}static \u0275fac=function(s){return new(s||i)};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};L();var $=class i{getPlatformIcon(e){let s={arduino:"\u{1F50C}",raspberry:"\u{1F353}",esp8266:"\u{1F4E1}",esp32:"\u{1F4E1}",default:"\u{1F916}"};return s[e]||s.default}getLevelIcon(e){let s={beginner:"\u{1F7E2}",intermediate:"\u{1F7E1}",advanced:"\u{1F534}",default:"\u26AA"};return s[e]||s.default}static \u0275fac=function(s){return new(s||i)};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};export{w as a,$ as b};
