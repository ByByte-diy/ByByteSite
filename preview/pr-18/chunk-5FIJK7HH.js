import{a as b}from"./chunk-6QJW37AI.js";import{$ as l,B as c,Fa as s,Ia as A,L as p,La as K,M as r,Q as m,R as M,S as T,T as g,U as H,V as P,Y as N,Z as F,aa as f,ba as j,ca as w,da as h,fa as z,ga as O,gb as W,ha as R,ib as q,ja as u,jb as L,ka as y,la as x,ma as V,na as C,q as E,ra as $,t as d,ta as D,ua as k,x as I,y as B}from"./chunk-IMSOYEQO.js";K();s();s();s();var U=[[["","dropdownTrigger",""]],[["","dropdownMenu",""]]],X=["[dropdownTrigger]","[dropdownMenu]"];function Y(t,e){t&1&&(w(0,"ul",2),C(1,1),h())}var _=class t{ariaLabel="Menu";open=c(!1);static openedInstance=null;toggle(){!this.open()?(t.openedInstance&&t.openedInstance!==this&&t.openedInstance.close(),this.open.set(!0),t.openedInstance=this):this.close()}close(){this.open.set(!1),t.openedInstance===this&&(t.openedInstance=null)}onDocClick(e){(e.composedPath?.()).some(i=>i?.classList?.contains?.("dropdown"))||this.close()}onDocFocusIn(e){(e.composedPath?.()||[]).some(i=>i?.classList?.contains?.("dropdown"))||this.close()}onEsc(){this.close()}ngOnDestroy(){t.openedInstance===this&&(t.openedInstance=null)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=m({type:t,selectors:[["app-dropdown-button"]],hostBindings:function(n,o){n&1&&u("click",function(a){return o.onDocClick(a)},p)("focusin",function(a){return o.onDocFocusIn(a)},p)("keydown.escape",function(){return o.onEsc()},p)},inputs:{ariaLabel:"ariaLabel"},ngContentSelectors:X,decls:4,vars:3,consts:[[1,"dropdown",3,"keydown.escape"],["type","button","aria-haspopup","listbox",1,"dropdown__btn",3,"click"],["role","listbox",1,"dropdown__menu"]],template:function(n,o){n&1&&(V(U),w(0,"div",0),y("keydown.escape",function(){return o.close()}),w(1,"button",1),y("click",function(){return o.toggle()}),C(2),h(),H(3,Y,2,0,"ul",2),h()),n&2&&(r(),g("aria-label",o.ariaLabel)("aria-expanded",o.open()),r(2),P(o.open()?3:-1))},styles:[`.dropdown{position:relative}.dropdown__btn{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid var(--border-soft);background:transparent;color:var(--text-primary);border-radius:8px}.dropdown__btn:hover{background:color-mix(in oklab,var(--btn-primary-bg) 10%,transparent);color:#fff}.dropdown__menu{position:absolute;right:0;margin-top:8px;min-width:160px;background:var(--bg-surface);border:1px solid var(--border-soft);border-radius:10px;padding:6px;display:grid;gap:4px;z-index:100}.dropdown__menu li{list-style:none}.dropdown__menu button{width:100%;display:flex;align-items:center;gap:8px;padding:6px 8px;background:transparent;border:0;color:var(--text-primary);border-radius:8px;text-align:left;box-shadow:none}.dropdown__menu button:hover{background:color-mix(in oklab,var(--btn-primary-bg) 10%,transparent);color:#fff}.dropdown__flag{font-size:16px;line-height:1}.dropdown__label{font-size:14px}.dropdown__btn img{filter:none}.dropdown__btn svg,.dropdown__btn img[src$=".svg"]{color:inherit;fill:currentColor}.icon-mask{width:18px;height:18px;display:inline-block;background-color:var(--text-primary);-webkit-mask:var(--icon) no-repeat center/contain;mask:var(--icon) no-repeat center/contain}
`],encapsulation:2})};s();var Z=(t,e)=>e.code;function ee(t,e){if(t&1){let n=R();l(0,"li",3)(1,"button",4),u("click",function(){let i=I(n).$implicit,a=x();return B(a.choose(i.code))}),l(2,"span",5),D(3),f(),l(4,"span",6),D(5),f()()()}if(t&2){let n=e.$implicit,o=x();g("aria-selected",o.current()===n.code),r(3),k(n.flag),r(2),k(n.label)}}var v=class t{translate=d(W);routerService=d(b);langs=c(this.translate.getLangs());current=c(this.translate.getCurrentLang()||L.defaultLang);open=c(!1);options=[{code:"en",label:"English",flag:"\u{1F1FA}\u{1F1F8}"},{code:"uk",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",flag:"\u{1F1FA}\u{1F1E6}"},{code:"ru",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",flag:"\u{1F1F7}\u{1F1FA}"}];constructor(){this.current.set(this.translate.getCurrentLang()||L.defaultLang),this.langs.set(this.translate.getLangs()),this.translate.onLangChange.subscribe(e=>this.current.set(e.lang))}toggle(){this.open.update(e=>!e)}close(){this.open.set(!1)}choose(e){this.routerService.switchLanguage(e),this.current.set(e),this.open.set(!1)}onDocClick(e){e.composedPath().some(i=>i?.classList?.contains?.("lang"))||this.close()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=m({type:t,selectors:[["app-lang-switcher"]],hostBindings:function(n,o){n&1&&u("click",function(a){return o.onDocClick(a)},p)},decls:5,vars:2,consts:[["ariaLabel","Language"],["dropdownTrigger","","aria-hidden","true",1,"icon-mask"],["dropdownMenu",""],["role","option"],["type","button",3,"click"],[1,"dropdown__flag"],[1,"dropdown__label"]],template:function(n,o){n&1&&(l(0,"app-dropdown-button",0),j(1,"span",1),z(2,2),N(3,ee,6,3,"li",3,Z),O(),f()),n&2&&(r(),$("--icon","url(icons/globe.svg)"),r(2),F(o.options))},dependencies:[A,q,_],encapsulation:2})};s();var G=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=M({type:t});static \u0275inj=E({imports:[v]})};s();s();var J=class t{routerService=d(b);transform(e){return e||(e="/"),this.routerService.getLocalizedRoute(e)}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=T({name:"localizedRoute",type:t,pure:!1})};export{_ as a,v as b,G as c,J as d};
