import{a as R}from"./chunk-TWRJ5NLD.js";import{$ as d,B as s,Fa as l,Ia as V,L as c,La as G,M as r,Q as u,R as S,T as m,U as B,V as M,Y as T,Z as H,aa as g,ba as N,ca as f,da as w,fa as F,ga as j,gb as $,ha as P,ib as A,ja as p,jb as k,ka as v,la as x,ma as O,na as y,q as L,ra as z,t as _,ta as C,ua as D,x as E,y as I}from"./chunk-IMSOYEQO.js";G();l();l();l();var K=[[["","dropdownTrigger",""]],[["","dropdownMenu",""]]],Q=["[dropdownTrigger]","[dropdownMenu]"];function U(t,e){t&1&&(f(0,"ul",2),y(1,1),w())}var h=class t{ariaLabel="Menu";open=s(!1);static openedInstance=null;toggle(){!this.open()?(t.openedInstance&&t.openedInstance!==this&&t.openedInstance.close(),this.open.set(!0),t.openedInstance=this):this.close()}close(){this.open.set(!1),t.openedInstance===this&&(t.openedInstance=null)}onDocClick(e){(e.composedPath?.()).some(i=>i?.classList?.contains?.("dropdown"))||this.close()}onDocFocusIn(e){(e.composedPath?.()||[]).some(i=>i?.classList?.contains?.("dropdown"))||this.close()}onEsc(){this.close()}ngOnDestroy(){t.openedInstance===this&&(t.openedInstance=null)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["app-dropdown-button"]],hostBindings:function(n,o){n&1&&p("click",function(a){return o.onDocClick(a)},c)("focusin",function(a){return o.onDocFocusIn(a)},c)("keydown.escape",function(){return o.onEsc()},c)},inputs:{ariaLabel:"ariaLabel"},ngContentSelectors:Q,decls:4,vars:3,consts:[[1,"dropdown",3,"keydown.escape"],["type","button","aria-haspopup","listbox",1,"dropdown__btn",3,"click"],["role","listbox",1,"dropdown__menu"]],template:function(n,o){n&1&&(O(K),f(0,"div",0),v("keydown.escape",function(){return o.close()}),f(1,"button",1),v("click",function(){return o.toggle()}),y(2),w(),B(3,U,2,0,"ul",2),w()),n&2&&(r(),m("aria-label",o.ariaLabel)("aria-expanded",o.open()),r(2),M(o.open()?3:-1))},styles:[`.dropdown{position:relative}.dropdown__btn{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid var(--border-soft);background:transparent;color:var(--text-primary);border-radius:8px}.dropdown__btn:hover{background:color-mix(in oklab,var(--btn-primary-bg) 10%,transparent);color:#fff}.dropdown__menu{position:absolute;right:0;margin-top:8px;min-width:160px;background:var(--bg-surface);border:1px solid var(--border-soft);border-radius:10px;padding:6px;display:grid;gap:4px;z-index:100}.dropdown__menu li{list-style:none}.dropdown__menu button{width:100%;display:flex;align-items:center;gap:8px;padding:6px 8px;background:transparent;border:0;color:var(--text-primary);border-radius:8px;text-align:left;box-shadow:none}.dropdown__menu button:hover{background:color-mix(in oklab,var(--btn-primary-bg) 10%,transparent);color:#fff}.dropdown__flag{font-size:16px;line-height:1}.dropdown__label{font-size:14px}.dropdown__btn img{filter:none}.dropdown__btn svg,.dropdown__btn img[src$=".svg"]{color:inherit;fill:currentColor}.icon-mask{width:18px;height:18px;display:inline-block;background-color:var(--text-primary);-webkit-mask:var(--icon) no-repeat center/contain;mask:var(--icon) no-repeat center/contain}
`],encapsulation:2})};l();var X=(t,e)=>e.code;function Y(t,e){if(t&1){let n=P();d(0,"li",3)(1,"button",4),p("click",function(){let i=E(n).$implicit,a=x();return I(a.choose(i.code))}),d(2,"span",5),C(3),g(),d(4,"span",6),C(5),g()()()}if(t&2){let n=e.$implicit,o=x();m("aria-selected",o.current()===n.code),r(3),D(n.flag),r(2),D(n.label)}}var b=class t{translate=_($);routerService=_(R);langs=s(this.translate.getLangs());current=s(this.translate.getCurrentLang()||k.defaultLang);open=s(!1);options=[{code:"en",label:"English",flag:"\u{1F1FA}\u{1F1F8}"},{code:"uk",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",flag:"\u{1F1FA}\u{1F1E6}"},{code:"ru",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",flag:"\u{1F1F7}\u{1F1FA}"}];constructor(){this.current.set(this.translate.getCurrentLang()||k.defaultLang),this.langs.set(this.translate.getLangs()),this.translate.onLangChange.subscribe(e=>this.current.set(e.lang))}toggle(){this.open.update(e=>!e)}close(){this.open.set(!1)}choose(e){this.routerService.switchLanguage(e),this.current.set(e),this.open.set(!1)}onDocClick(e){e.composedPath().some(i=>i?.classList?.contains?.("lang"))||this.close()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["app-lang-switcher"]],hostBindings:function(n,o){n&1&&p("click",function(a){return o.onDocClick(a)},c)},decls:5,vars:2,consts:[["ariaLabel","Language"],["dropdownTrigger","","aria-hidden","true",1,"icon-mask"],["dropdownMenu",""],["role","option"],["type","button",3,"click"],[1,"dropdown__flag"],[1,"dropdown__label"]],template:function(n,o){n&1&&(d(0,"app-dropdown-button",0),N(1,"span",1),F(2,2),T(3,Y,6,3,"li",3,X),j(),g()),n&2&&(r(),z("--icon","url(icons/globe.svg)"),r(2),H(o.options))},dependencies:[V,A,h],encapsulation:2})};l();var q=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=S({type:t});static \u0275inj=L({imports:[b]})};export{h as a,b,q as c};
